(this.webpackJsonpdiscordapp=this.webpackJsonpdiscordapp||[]).push([[0],{75:function(e,n,c){},76:function(e,n,c){},77:function(e,n,c){},83:function(e,n,c){},84:function(e,n,c){},91:function(e,n,c){},92:function(e,n,c){},93:function(e,n,c){},94:function(e,n,c){"use strict";c.r(n);var a=c(2),t=c.n(a),s=c(25),i=c.n(s),r=(c(75),c(76),c(36)),o=(c(77),c(48)),l=c.n(o),d=c(53),j=c.n(d),u=c(54),h=c.n(u),b=c(55),m=c.n(b),O=c(56),p=c.n(O),x=c(57),f=c.n(x),v=c(3);var g=function(e){return Object(v.jsxs)("div",{className:"chatheader",children:[Object(v.jsx)("div",{className:"chatheader_left",children:Object(v.jsxs)("h3",{children:[Object(v.jsx)("span",{className:"chatheadername",children:"#"}),e]})}),Object(v.jsxs)("div",{className:"chatheader_right",children:[Object(v.jsx)(l.a,{}),Object(v.jsx)(j.a,{}),Object(v.jsx)(h.a,{}),Object(v.jsxs)("div",{className:"chatheadersearch",children:[Object(v.jsx)("input",{placeholder:"Search"}),Object(v.jsx)(m.a,{})]}),Object(v.jsx)(p.a,{}),Object(v.jsx)(f.a,{})]})]})},N=c(59),S=c.n(N),w=c(60),C=c.n(w),y=c(61),I=c.n(y),k=c(110);c(83);var D=function(e){var n=e.timestamp,c=e.user,a=e.message;return Object(v.jsxs)("div",{className:"message",children:[Object(v.jsx)(k.a,{src:c.photo}),Object(v.jsxs)("div",{className:"messageinfo",children:[Object(v.jsxs)("h4",{children:[c.displayName,Object(v.jsx)("span",{className:"messagetime",children:new Date(null===n||void 0===n?void 0:n.toDate().toUTCString())})]}),Object(v.jsx)("p",{children:a})]})]})},_=(c(84),c(17)),A=c(28),M=Object(A.c)({name:"app",initialState:{channelID:null,channelName:null},reducers:{setChannelInfo:function(e,n){e.channelID=n.payload.channelID,e.channelName=n.payload.channelName}}}),z=M.actions.setChannelInfo,E=function(e){return e.app.channelID},R=function(e){return e.app.channelName},B=M.reducer,F=c(43),P=c.n(F),U=c(58);function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(n){return setTimeout((function(){return n({data:e})}),500)}))}Object(A.b)("counter/fetchCount",function(){var e=Object(U.a)(P.a.mark((function e(n){var c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(n);case 2:return c=e.sent,e.abrupt("return",c.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());var G=Object(A.c)({name:"user",initialState:{user:null},reducers:{login:function(e,n){e.value+=n.payload},logout:function(e){e.user=null}}}),J=G.actions,L=J.login,T=J.logout,V=function(e){return e.user.user},H=G.reducer,K=c(24);var Q=function(){var e=Object(_.c)(V),n=Object(_.c)(E),c=Object(_.c)(R),t=Object(a.useState)(""),s=Object(r.a)(t,2),i=s[0],o=s[1],l=Object(a.useState)([]),d=Object(r.a)(l,2),j=d[0],u=d[1];return Object(a.useEffect)((function(){n&&K.a.collection("channels").doc(n).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){return u(e.docs.map((function(e){return e.data()})))}))}),[n]),Object(v.jsxs)("div",{className:"chat",children:[Object(v.jsx)(g,{channelName:c}),Object(v.jsx)("div",{className:"chatmessage",children:j.map((function(e){return Object(v.jsx)(D,{timestamp:e.timestamp,message:e.message,user:e.user})}))}),Object(v.jsxs)("div",{className:"chatinput",children:[Object(v.jsx)(S.a,{fontSize:"large"}),Object(v.jsxs)("form",{children:[Object(v.jsx)("input",{value:i,disabled:!n,onChange:function(e){return o(e.target.value)},placeholder:"Message #".concat(c)}),Object(v.jsx)("button",{disabled:!n,className:"chatinputbutton",type:"submit",conClick:function(c){c.preventDefault(),K.a.collection("channels").doc(n).collection("messages").add({timestamp:K.a.firestore.FieldValue.serverTimestamp(),message:i,user:e}),o("")},children:"Send Message"})]}),Object(v.jsxs)("div",{className:"chatinputicon",children:[Object(v.jsx)(C.a,{}),Object(v.jsx)(I.a,{fontSize:"large"})]})]})]})};c(91),c(92);var $=function(e){var n=e.id,c=e.channelName,a=Object(_.b)();return Object(v.jsx)("div",{className:"sidebarChannel",onClick:function(){return a(z({channelId:n,channelName:c}))},children:Object(v.jsxs)("h4",{children:[Object(v.jsx)("span",{className:"sidebarChannel__hash",children:"#"}),c]})})},q=c(45),X=c.n(q),Y=c(62),Z=c.n(Y),ee=c(63),ne=c.n(ee),ce=c(64),ae=c.n(ce),te=c(65),se=c.n(te),ie=c(66),re=c.n(ie),oe=c(67),le=c.n(oe),de=c(68),je=c.n(de),ue=K.a.initializeApp({apiKey:"AIzaSyAanwLwOfyev664-UyFp8QieGu9bbFU_AI",authDomain:"discord-app-99435.firebaseapp.com",projectId:"discord-app-99435",storageBucket:"discord-app-99435.appspot.com",messagingSenderId:"759305442408",appId:"1:759305442408:web:46dd80b0fc40f5d55dd7dd",measurementId:"G-1MRJ1RRPHM"}).firestore(),he=K.a.auth(),be=new K.a.auth.GoogleAuthProvider,me=ue;var Oe=function(){var e=Object(_.c)(V),n=Object(a.useState)([]),c=Object(r.a)(n,2),t=c[0],s=c[1];return Object(a.useEffect)((function(){me.collection("channels").onSnapshot((function(e){return s(e.docs.map((function(e){return{id:e.id,channels:e.data()}})))}))}),[]),Object(v.jsxs)("div",{className:"sidebar",children:[Object(v.jsxs)("div",{className:"sidebar__top",children:[Object(v.jsx)("h3",{children:"Messy World"}),Object(v.jsx)(X.a,{})]}),Object(v.jsxs)("div",{className:"sidebarchannels",children:[Object(v.jsxs)("div",{className:"sidebarchannelheader",children:[Object(v.jsxs)("div",{className:"sidebarheader",children:[Object(v.jsx)(X.a,{}),Object(v.jsx)("h4",{children:"Chat Channels"})]}),Object(v.jsx)(Z.a,{onClick:function(){var e=prompt("Enter a new channel name");e&&me.collection("channels").add({channelName:e})},className:"sidebaraddChannel"})]}),Object(v.jsx)("div",{className:"sidebarchannellist",children:t.map((function(e){var n=e.id,c=e.channel;return Object(v.jsx)($,{id:n,channelName:c.channelName},n)}))})]}),Object(v.jsxs)("div",{className:"sidebarvoice",children:[Object(v.jsx)(ne.a,{className:"sidebarvoiceicon",fontSize:"large"}),Object(v.jsxs)("div",{className:"sidebarvoiceinfo",children:[Object(v.jsx)("h3",{children:"Voice Connected"}),Object(v.jsx)("p",{children:"Stream"})]}),Object(v.jsxs)("div",{className:"sidebarvoiceicon",children:[Object(v.jsx)(ae.a,{}),Object(v.jsx)(se.a,{})]})]}),Object(v.jsxs)("div",{className:"sidebarprofile",children:[Object(v.jsx)(k.a,{onClick:function(){return he.signOut()},src:e.photo}),Object(v.jsxs)("div",{className:"sidebarprofileinfo",children:[Object(v.jsx)("h3",{children:e.displayName}),Object(v.jsxs)("p",{children:["#",e.uid.substring(0,5)]})]}),Object(v.jsxs)("div",{className:"sidebarprofileicon",children:[Object(v.jsx)(re.a,{}),Object(v.jsx)(le.a,{}),Object(v.jsx)(je.a,{})]})]})]})},pe=c(109);c(93);var xe=function(){return Object(v.jsxs)("div",{className:"login",children:[Object(v.jsx)("h2",{children:"DISCORD"}),Object(v.jsx)("div",{className:"loginlogo",children:Object(v.jsx)("img",{src:"https://logo-logos.com/wp-content/uploads/2018/03/discord_icon_logo_remix_small.png",alt:"Discord bot Logo"})}),Object(v.jsx)(pe.a,{onClick:function(){he.signInWithPopup(be).catch((function(e){return alert(e.message)}))},children:"Sign In"})]})};var fe=function(){var e=Object(_.b)(),n=Object(_.c)(V);return Object(a.useEffect)((function(){he.onAuthStateChanged((function(n){e(n?L({uid:n.uid,photo:n.photoURL,email:n.email,displayName:n.displayName}):T())}))}),[e]),Object(v.jsx)("div",{className:"app",children:n?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Oe,{}),Object(v.jsx)(Q,{})]}):Object(v.jsx)(xe,{})})},ve=Object(A.a)({reducer:{user:H,app:B}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(v.jsx)(t.a.StrictMode,{children:Object(v.jsx)(_.a,{store:ve,children:Object(v.jsx)(fe,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[94,1,2]]]);
//# sourceMappingURL=main.ad19d7a2.chunk.js.map